@model List<TimeTrackingApp.Models.ViewModel.LeaveRequestApprovalViewModel>

<h2>Wnioski do zatwierdzenia</h2>

<table class="table table-striped">
    <thead>
        <tr>
            <th>Pracownik</th>
            <th>Typ urlopu</th>
            <th>Start</th>
            <th>Koniec</th>
            <th>Dni</th>
            <th>Powód</th>
            <th>Status</th>
            <th>Komentarz kierownika</th>
            <th>Data złożenia</th>
            <th>Akcja</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var r in Model)
        {
            <tr>
                <td>@r.EmployeeName</td>
                <td>@r.LeaveType</td>
                <td>@r.StartDate.ToString("yyyy-MM-dd")</td>
                <td>@r.EndDate.ToString("yyyy-MM-dd")</td>
                <td>@r.DaysCount</td>
                <td>@r.Reason</td>
                <td>@r.Status</td>
                <td>@r.ManagerComment</td>
                <td>@r.RequestDate.ToString("yyyy-MM-dd")</td>
                <td>
                    <form asp-action="ApproveLeaveRequest" method="post">
                        <input type="hidden" name="Id" value="@r.Id" />
                        <select name="Decision" class="form-select mb-1">
                            <option value="Zaakceptowano">Zaakceptowano</option>
                            <option value="Odrzucono">Odrzucono</option>
                        </select>
                        <textarea name="Comment" class="form-control mb-1" placeholder="Komentarz (przy odrzuceniu)"></textarea>
                        <button type="submit" class="btn btn-primary btn-sm">Zatwierdź</button>
                    </form>
                </td>
            </tr>
        }
    </tbody>
</table>
